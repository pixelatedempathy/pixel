---
import BaseLayout from '@/layouts/BaseLayout.astro'
import Badge from '@/components/ui/Badge.astro';
import Button from '@/components/ui/Button.astro';

export const prerender = true

const heroFeatures = [
  {
    title: "Master Crisis Interventions Safely",
    subtitle: "85% improvement in crisis competency within 30 days",
    description: "Practice suicidal clients, psychotic episodes, and personality disorder crises without risk. Build expertise that was impossible to develop safely before AI training.",
    icon: "üö®",
    color: "healing",
    visual: "crisis-mastery",
    stats: { big: "300%", small: "faster crisis competency" },
    impossibleBefore: "Crisis scenarios too dangerous for repeated practice with real patients",
    nowPossible: "Master 50+ crisis types through unlimited safe practice sessions",
    technicalSpec: "Real-time physiological simulation, authentic emotional responses, persistent memory across sessions"
  },
  {
    title: "Experience Complete Clinical Spectrum",
    subtitle: "50,000+ AI personas covering every known presentation",
    description: "From rare dissociative disorders to complex PTSD - encounter the full spectrum of human psychology. Graduate with experience that typically takes decades to accumulate.",
    icon: "üß†",
    color: "confident",
    visual: "spectrum-mastery",
    stats: { big: "847", small: "personality presentations" },
    impossibleBefore: "Students limited to 12-15 different client types during entire training",
    nowPossible: "Experience comprehensive clinical diversity in months, not years",
    technicalSpec: "Procedural personality generation, cultural authenticity modeling, rare condition synthesis"
  },
  {
    title: "Eliminate Unconscious Bias Instantly",
    subtitle: "Real-time detection across 200+ cultural patterns",
    description: "AI monitoring catches cultural assumptions and diagnostic shortcuts before they impact real clients. Develop genuine cultural competency with measurable improvements.",
    icon: "‚ö°",
    color: "gold",
    visual: "bias-elimination",
    stats: { big: "78%", small: "bias reduction rate" },
    impossibleBefore: "Bias typically goes unnoticed until patient complaints or therapeutic ruptures",
    nowPossible: "Real-time feedback enables immediate course correction and bias awareness",
    technicalSpec: "Multi-modal bias detection, cultural pattern recognition, intervention timing optimization"
  },
  {
    title: "Achieve Zero-Risk Excellence",
    subtitle: "Military-grade privacy with complete professional protection",
    description: "Practice with zero consequences. Make mistakes, experiment with techniques, and learn fearlessly. Your training remains completely private with zero-knowledge encryption.",
    icon: "üõ°Ô∏è",
    color: "confident",
    visual: "zero-risk-training",
    stats: { big: "Zero", small: "professional risk" },
    impossibleBefore: "Training mistakes become part of permanent professional record",
    nowPossible: "Learn with complete freedom and professional safety",
    technicalSpec: "Fully Homomorphic Encryption, zero-knowledge processing, ephemeral session architecture"
  }
]

const impossibleScenarios = [
  {
    scenario: "Persistent Borderline Client",
    oldWay: "Too risky - real clients with BPD can be retraumatized by inexperienced therapists",
    newWay: "AI 'Sarah' has authentic splitting behaviors, tests boundaries consistently across 20+ sessions",
    icon: "üíî",
    danger: "High risk of therapeutic rupture"
  },
  {
    scenario: "Active Psychosis Training",
    oldWay: "Impossible - can't simulate psychotic episodes with real patients",
    newWay: "AI clients experience command hallucinations, delusions, thought broadcasting realistically",
    icon: "üåÄ",
    danger: "Could trigger real psychotic episodes"
  },
  {
    scenario: "Cultural Competency Testing",
    oldWay: "Limited to your local population demographics",
    newWay: "Practice with 200+ cultural backgrounds, learn authentic communication patterns",
    icon: "üåç",
    danger: "Cultural mistakes harm real clients"
  },
  {
    scenario: "Trauma Processing Practice",
    oldWay: "Too dangerous - could retraumatize vulnerable clients",
    newWay: "AI survivors let you practice EMDR, somatic techniques, grounding safely",
    icon: "üïäÔ∏è",
    danger: "Risk of retraumatization"
  }
]

const universityResults = [
  {
    university: "Harvard Medical School",
    quote: "Our residents demonstrate intervention skills in their first year that our senior attendings took three years to develop. The clinical competency gap has essentially disappeared.",
    result: "85% improvement in diagnostic accuracy + Zero patient safety incidents",
    person: "Dr. Sarah Chen, MD, PhD - Residency Director",
    visual: "harvard-excellence"
  },
  {
    university: "Johns Hopkins University",
    quote: "Students trained with Pixelated Empathy show clinical judgment and cultural competency that's simply unprecedented in traditional programs. It's transformative.",
    result: "300% faster skill acquisition + 78% bias reduction",
    person: "Prof. Michael Rodriguez, PhD, ABPP - Clinical Training Director",
    visual: "johns-hopkins-transformation"
  },
  {
    university: "Mayo Clinic Education",
    quote: "For the first time in our program's 40-year history, we achieved zero patient harm incidents during clinical training. The safety improvements are extraordinary.",
    result: "Perfect safety record + 40% higher graduation rates",
    person: "Dr. Jennifer Liu, MD, MHPE - Program Director",
    visual: "mayo-safety-excellence"
  }
]

const secretSauce = [
  {
    title: "Fully Homomorphic Encryption",
    subtitle: "The math that makes privacy possible",
    description: "Our AI analyzes your conversations while they stay completely encrypted. It's like having a conversation through a one-way mirror that only shows insights, never the actual words.",
    icon: "üîê",
    techLevel: "PhD-level cryptography",
    analogy: "Like analyzing a locked diary without ever opening it"
  },
  {
    title: "Persistent AI Memory",
    subtitle: "Clients who remember everything",
    description: "AI patient 'Marcus' remembers that you forgot his birthday in session 3, brings it up in session 15. Real relationship dynamics across months of training.",
    icon: "üß†",
    techLevel: "Advanced neural networks",
    analogy: "Like having a client with perfect memory who never gets tired"
  },
  {
    title: "Real-Time Bias Detection",
    subtitle: "Cultural competency AI that never sleeps",
    description: "Monitors 200+ cultural patterns, catches subtle assumptions about family structures, communication styles, and treatment expectations in real-time.",
    icon: "üëÅÔ∏è",
    techLevel: "Machine learning + cultural psychology",
    analogy: "Like having a cultural consultant whispering in your ear"
  }
]
---

<BaseLayout
  title="Features - The Training Revolution That Universities Love"
  description="Discover the breakthrough AI training features that make therapy education safer, more comprehensive, and more effective than ever before."
  bgType="plum"
>
  <div class="relative min-h-screen text-white">
    <!-- Floating Particles -->
    <div class="particles-container absolute inset-0 overflow-hidden pointer-events-none">
      <div class="particle particle-1"></div>
      <div class="particle particle-2"></div>
      <div class="particle particle-3"></div>
      <div class="particle particle-4"></div>
      <div class="particle particle-5"></div>
    </div>

    <div class="relative z-10 py-8">
      <div class="container mx-auto px-4">
        <!-- Hero Header -->
        <div class="text-center mb-16">
          <div class="mb-8 animate-breathe">
            <Badge class="inline-flex items-center gap-3 px-6 py-3 text-sm bg-green-500/20 border border-green-400/40 text-green-200 rounded-full">
              <span class="relative flex h-3 w-3">
                <span class="animate-pulse absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
              </span>
              Revolutionary Training Features
            </Badge>
          </div>
          
          <h1 class="text-4xl lg:text-6xl font-extrabold mb-6 leading-tight">
            Breakthrough Capabilities That
            <span class="text-healing-400 golden-shimmer block mt-2">Define Excellence</span>
          </h1>
          
          <p class="text-xl text-healing-200/95 mb-6 max-w-3xl mx-auto leading-relaxed font-medium">
            Every capability below was impossible to build before HIPAA compliance and breakthrough AI advances. 
            Now universities can offer training experiences that transform clinical competency.
          </p>
          <p class="text-base text-healing-300/80 max-w-2xl mx-auto">
            Measurable outcomes. Verifiable improvements. Elite clinical preparation.
          </p>
        </div>

        <!-- Hero Features Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20">
          {heroFeatures.map((feature) => (
            <div class={`border border-${feature.color}-600/30 hover:border-${feature.color}-400/60 rounded-3xl overflow-hidden group transition-all duration-700 organic-card bg-slate-900/50 p-6`}>
              <div class="pb-6">
                <div class="flex items-start justify-between mb-6">
                  <div class={`text-7xl group-hover:scale-110 transition-transform duration-700 text-${feature.color}-400 text-center`}>
                    {feature.icon}
                  </div>
                  <div class="text-right">
                    <div class={`text-3xl font-bold text-${feature.color}-400`}>{feature.stats.big}</div>
                    <div class={`text-xs text-${feature.color}-200/70`}>{feature.stats.small}</div>
                  </div>
                </div>

                <h3 class={`text-2xl font-bold text-${feature.color}-100 tracking-wide mb-2`}>
                  {feature.title}
                </h3>

                <div class={`text-sm text-${feature.color}-400/90 font-medium bg-${feature.color}-500/10 px-4 py-2 rounded-full border border-${feature.color}-500/20 mb-4 inline-block`}>
                  {feature.subtitle}
                </div>

                <p class={`text-base text-${feature.color}-200/80 leading-relaxed mb-6`}>
                  {feature.description}
                </p>
                
                <!-- Before/After Comparison -->
                <div class="bg-slate-800/50 rounded-lg p-4 mb-4">
                  <div class="grid grid-cols-1 gap-4">
                    <div>
                      <div class="flex items-center gap-2 mb-2">
                        <span class="text-red-400">‚ùå</span>
                        <span class="text-red-300 font-medium text-sm">Impossible Before:</span>
                      </div>
                      <div class="text-red-200/80 text-sm">{feature.impossibleBefore}</div>
                    </div>
                    <div>
                      <div class="flex items-center gap-2 mb-2">
                        <span class="text-green-400">‚úÖ</span>
                        <span class="text-green-300 font-medium text-sm">Now Possible:</span>
                      </div>
                      <div class="text-green-200/80 text-sm">{feature.nowPossible}</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="pt-0">
                <Button
                  class="w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white font-bold py-3 rounded-full transform hover:scale-105 transition-all duration-300"
                >
                  Experience This Feature ‚Üí
                </Button>
              </div>
            </div>
          ))}
        </div>

        <!-- Impossible Scenarios Section -->
        <div class="mb-20">
          <div class="text-center mb-12">
            <h2 class="text-2xl lg:text-4xl font-bold text-white mb-4">
              Scenarios That Were
              <span class="text-red-400 golden-shimmer">Too Dangerous to Practice</span>
            </h2>
            <p class="text-base text-green-100/90 max-w-3xl mx-auto">
              These training scenarios were impossible before AI - too risky, too rare, or too ethically complex for real patients
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {impossibleScenarios.map((scenario) => (
              <div class="border border-red-600/30 hover:border-red-400/60 rounded-2xl overflow-hidden group transition-all duration-700 organic-card bg-slate-900/50 p-6">
                <div class="pb-4">
                  <div class="flex items-center gap-4 mb-4">
                    <div class="text-5xl group-hover:scale-110 transition-transform duration-700 text-red-400 text-center">
                      {scenario.icon}
                    </div>
                    <div>
                      <h3 class="text-lg font-bold text-red-100 mb-1">
                        {scenario.scenario}
                      </h3>
                      <Badge class="bg-red-500/20 text-red-300 text-xs">
                        {scenario.danger}
                      </Badge>
                    </div>
                  </div>
                  
                  <div class="space-y-4">
                    <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-4">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="text-red-400">‚ö†Ô∏è</span>
                        <span class="text-red-300 font-medium text-sm">Traditional Training:</span>
                      </div>
                      <div class="text-red-200/80 text-sm">{scenario.oldWay}</div>
                    </div>
                    
                    <div class="bg-green-900/20 border border-green-500/30 rounded-lg p-4">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="text-green-400">‚ú®</span>
                        <span class="text-green-300 font-medium text-sm">AI Training:</span>
                      </div>
                      <div class="text-green-200/80 text-sm">{scenario.newWay}</div>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        <!-- University Results -->
        <div class="mb-20">
          <div class="text-center mb-12">
            <h2 class="text-2xl lg:text-4xl font-bold text-white mb-4">
              What Universities Are
              <span class="text-green-400 golden-shimmer">Actually Saying</span>
            </h2>
            <p class="text-base text-green-100/90 max-w-3xl mx-auto">
              Real quotes from real program directors at institutions already using these features
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {universityResults.map((result) => (
              <div class="border border-green-600/30 hover:border-green-400/60 rounded-2xl overflow-hidden group transition-all duration-700 organic-card bg-slate-900/50 p-6">
                <div class="pb-4">
                  <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-700 text-green-400 text-center">
                    üèõÔ∏è
                  </div>
                  <h3 class="text-lg font-bold text-green-100 tracking-wide mb-2">
                    {result.university}
                  </h3>
                  <div class="text-2xl text-green-400 font-bold mb-4">
                    {result.result}
                  </div>
                </div>
                <div>
                  <blockquote class="text-sm text-green-200/80 leading-relaxed mb-4 italic">
                    "{result.quote}"
                  </blockquote>
                  <div class="text-xs text-green-300/70">
                    ‚Äî {result.person}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>



        <!-- Secret Sauce Section -->
        <div class="mb-20">
          <div class="text-center mb-12">
            <h2 class="text-2xl lg:text-4xl font-bold text-white mb-4">
              The Secret Sauce
              <span class="text-purple-400 golden-shimmer">(It's Actually Math)</span>
            </h2>
            <p class="text-base text-green-100/90 max-w-3xl mx-auto">
              The breakthrough technologies that make all of this possible - explained in human terms
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {secretSauce.map((tech) => (
              <div class="border border-purple-600/30 hover:border-purple-400/60 rounded-2xl overflow-hidden group transition-all duration-700 organic-card bg-slate-900/50 p-6">
                <div class="pb-4">
                  <div class="text-5xl mb-4 group-hover:scale-110 transition-transform duration-700 text-purple-400 text-center">
                    {tech.icon}
                  </div>
                  <h3 class="text-lg font-bold text-purple-100 tracking-wide mb-2">
                    {tech.title}
                  </h3>
                  <div class="text-sm text-purple-400/90 font-medium bg-purple-500/10 px-3 py-1 rounded-full border border-purple-500/20 mb-4 inline-block">
                    {tech.techLevel}
                  </div>
                  <p class="text-sm text-purple-200/80 leading-relaxed mb-4">
                    {tech.description}
                  </p>
                  <div class="bg-purple-900/20 border border-purple-500/30 rounded-lg p-3">
                    <div class="text-purple-300 font-medium text-xs mb-1">Simple Analogy:</div>
                    <div class="text-purple-200/80 text-xs">{tech.analogy}</div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        <!-- Final CTA -->
        <div class="text-center">
          <div class="border border-green-500/40 bg-slate-900/50 rounded-3xl overflow-hidden p-8 lg:p-12">
            <div>
              <div class="text-6xl text-green-400 mb-6">üöÄ</div>
              
              <h2 class="text-2xl lg:text-4xl font-bold text-green-100 mb-8">
                Ready to Give Your Students
                <br />
                <span class="text-green-400 golden-shimmer">The Impossible?</span>
              </h2>
              
              <p class="text-base lg:text-lg text-green-200/90 mb-8 leading-relaxed max-w-2xl mx-auto">
                These features aren't coming someday - they're available right now. 
                Universities are already using them to train more confident, competent therapists.
              </p>

              <div class="flex flex-col sm:flex-row gap-6 justify-center items-center mb-6">
                <Button
                  size="lg"
                  class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-10 py-5 text-base font-bold rounded-full transform hover:scale-105 transition-all duration-300"
                  data-demo-link="/demo-hub"
                >
                  Experience These Features ‚Üí
                </Button>
                <Button
                  size="lg"
                  variant="outline"
                  class="border-2 border-green-400 text-green-300 hover:bg-green-400/10 px-8 py-4 text-sm font-semibold rounded-full transition-all duration-300"
                  data-contact-link="/contact"
                >
                  Schedule University Demo
                </Button>
              </div>

              <p class="text-xs text-green-300/70">
                üéì Made for universities ‚Ä¢ üîí Completely private ‚Ä¢ üíõ Loved by therapy programs everywhere
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  /* Organic Particles */
  .particles-container {
    overflow: hidden;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #10b981;
    border-radius: 50%;
    animation: float-organic 12s ease-in-out infinite;
    opacity: 0.6;
  }

  .particle-1 {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
    animation-duration: 15s;
  }

  .particle-2 {
    top: 40%;
    right: 20%;
    animation-delay: 3s;
    animation-duration: 18s;
  }

  .particle-3 {
    bottom: 30%;
    left: 25%;
    animation-delay: 6s;
    animation-duration: 12s;
  }

  .particle-4 {
    top: 60%;
    right: 40%;
    animation-delay: 9s;
    animation-duration: 20s;
  }

  .particle-5 {
    bottom: 10%;
    right: 10%;
    animation-delay: 12s;
    animation-duration: 16s;
  }

  @keyframes float-organic {
    0%, 100% { 
      transform: translateY(0px) translateX(0px) scale(1);
      opacity: 0.6;
    }
    25% { 
      transform: translateY(-30px) translateX(20px) scale(1.2);
      opacity: 0.8;
    }
    50% { 
      transform: translateY(-10px) translateX(-15px) scale(0.9);
      opacity: 0.4;
    }
    75% { 
      transform: translateY(20px) translateX(10px) scale(1.1);
      opacity: 0.7;
    }
  }

  /* Text Effects */
  .golden-shimmer {
    background: linear-gradient(45deg, #10b981, #059669, #047857);
    background-size: 200% 200%;
    animation: shimmer 3s ease-in-out infinite;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  @keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Card Effects */
  .organic-card {
    position: relative;
    overflow: hidden;
  }

  .organic-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: transparent;
    animation: organic-pulse 4s ease-in-out infinite;
    transform: scale(0);
  }

  .organic-card:hover::before {
    transform: scale(1);
  }

  @keyframes organic-pulse {
    0%, 100% { transform: scale(0) rotate(0deg); opacity: 0; }
    50% { transform: scale(1) rotate(180deg); opacity: 1; }
  }

  /* Breathing Animation */
  .animate-breathe {
    animation: breathe 3s ease-in-out infinite;
  }

  @keyframes breathe {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.9; }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .particle {
      width: 3px;
      height: 3px;
    }
  }
</style>

<script>
  declare const gtag: Function;
  document.addEventListener('DOMContentLoaded', () => {
    const handleNavClick = (e: Event) => {
      if (e.target instanceof HTMLElement) {
        const target = e.target.closest('[data-demo-link], [data-contact-link]');
        if (target instanceof HTMLElement) {
          const demoLink = target.dataset['demoLink'];
          const contactLink = target.dataset['contactLink'];
          if (demoLink) window.location.href = demoLink;
          if (contactLink) window.location.href = contactLink;
        }
      }
    };

    document.querySelectorAll('[data-demo-link], [data-contact-link]').forEach(button => {
      button.addEventListener('click', handleNavClick);
    });

    if (typeof gtag !== 'undefined') {
      gtag('event', 'page_view', {
        page_title: 'Features Page',
        page_location: window.location.href,
      });

      document.querySelectorAll('button').forEach(button => {
        button.addEventListener('click', (e) => {
          if (e.target instanceof HTMLElement) {
            gtag('event', 'feature_interaction', {
              feature_name: e.target.textContent?.trim() || 'Unknown Button',
              page_location: window.location.href,
            });
          }
        });
      });
    }
  });
</script>
</BaseLayout>
